# ========================================================================
# CUSTOMER-API DEVELOPMENT ENVIRONMENT CONFIGURATION
# ========================================================================
# This file contains settings for local development and testing
# Safe to commit to version control (no production secrets)
# ========================================================================

# ==================== CORE APPLICATION SETTINGS ====================
# Enable debug for development
DEBUG=True

# Use a simple secret key for development (don't use this in production!)
DJANGO_SECRET_KEY='django-insecure-dev-key-for-local-testing-only-not-for-production'

# Define the allowed hosts for development
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0
SITE_PROTOCOL=http
SITE_DOMAIN=localhost:8000
SITE_URL=http://localhost:8000

# ==================== DATABASE CONFIGURATION ====================
# SQLite for development (simpler setup)
DB_ENGINE=django.db.backends.sqlite3
DB_NAME=db.sqlite3

# Or use PostgreSQL if you prefer for testing
#DB_ENGINE=django.db.backends.postgresql
#DB_NAME=customer_api_dev
#DB_USER=postgres
#DB_PASSWORD=postgres
#DB_HOST=localhost
#DB_PORT=5432

# ==================== SECURITY SETTINGS (RELAXED FOR DEV) ====================
# Authentication & Session Security (Relaxed for development)
MAX_FAILED_LOGIN_ATTEMPTS=10
ACCOUNT_LOCKOUT_MINUTES=5
BRUTEFORCE_PROTECTION_ENABLED=False
IP_BASED_LOCKOUT_THRESHOLD=50
IP_LOCKOUT_DURATION=60

# Session Security (Relaxed for development)
SESSION_COOKIE_AGE=86400
SESSION_EXPIRE_AT_BROWSER_CLOSE=False
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_SAMESITE=Lax

# CSRF Protection (Relaxed for development)
CSRF_COOKIE_SECURE=False
CSRF_COOKIE_HTTPONLY=False
CSRF_COOKIE_SAMESITE=Lax

# JWT Token Security (Extended for development)
JWT_ACCESS_TOKEN_DAYS=7
JWT_REFRESH_TOKEN_DAYS=30
JWT_ROTATE_REFRESH_TOKENS=True
JWT_BLACKLIST_AFTER_ROTATION=True
JWT_UPDATE_LAST_LOGIN=True
JWT_ALGORITHM=HS256
JWT_ISSUER=Customer-API-Dev
JWT_LEEWAY=10
JWT_SLIDING_TOKEN_MINUTES=30
JWT_SLIDING_REFRESH_DAYS=7

# Rate Limiting (Relaxed for development)
REST_FRAMEWORK_ANON_THROTTLE_RATE=1000/minute
REST_FRAMEWORK_USER_THROTTLE_RATE=2000/minute
REST_FRAMEWORK_LOGIN_THROTTLE_RATE=50/minute

# Defender Settings (Relaxed for development)
DEFENDER_LOGIN_FAILURE_LIMIT=20
DEFENDER_COOLOFF_TIME=60
DEFENDER_LOCK_OUT_BY_IP_AND_USERNAME=False
REDIS_URL=redis://localhost:6379/0

# ==================== CORS & CSRF SETTINGS ====================
# Relaxed CORS for development
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:3000,http://127.0.0.1:8000,http://localhost:3001
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:3000,http://127.0.0.1:8000

# ==================== EMAIL CONFIGURATION ====================
# Console backend for development (emails printed to console)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=localhost
EMAIL_PORT=1025
EMAIL_USE_TLS=False
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=dev@localhost
SERVER_EMAIL=dev@localhost
ADMIN_EMAIL=admin@localhost

# ==================== PAYMENT GATEWAY CONFIGURATION ====================
# Paytm Test Settings
PAYTM_TEST_MODE=True
PAYTM_MERCHANT_ID=your-test-merchant-id
PAYTM_MERCHANT_KEY=your-test-merchant-key
PAYTM_WEBSITE=WEBSTAGING
PAYTM_INDUSTRY_TYPE_ID=Retail
PAYTM_CHANNEL_ID=WEB
PAYTM_TOKEN_URL=https://securegw-stage.paytm.in/theia/api/v1/initiateTransaction
PAYTM_STATUS_URL=https://securegw-stage.paytm.in/merchant-status/getTxnStatus

# PhonePe Test Settings
PHONEPE_TEST_MODE=True
PHONEPE_MERCHANT_ID=test-merchant-id
PHONEPE_SALT_KEY=test-salt-key
PHONEPE_CLIENT_ID=test-client-id
PHONEPE_CLIENT_SECRET=test-client-secret
PHONEPE_CLIENT_VERSION=1.0.0
PHONEPE_PRODUCTION_URL=https://api.phonepe.com/apis/hermes
PHONEPE_STAGING_URL=https://api-preprod.phonepe.com/apis/hermes
PHONEPE_CALLBACK_URL_PREFIX=/api/auth/payments/phonepe/callback/
PHONEPE_REDIRECT_URL=http://localhost:8000/api/auth/payments/phonepe/redirect/

# ==================== CACHING & PERFORMANCE ====================
# Simple in-memory cache for development
CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache
CACHE_LOCATION=dev-cache
CACHE_TIMEOUT=60
ANDROID_CACHE_TIMEOUT=60

# ==================== CLOUD STORAGE (DISABLED FOR DEV) ====================
# Local storage for development
USE_GCS=False
GCS_BUCKET_NAME=

# ==================== MONITORING & LOGGING ====================
# Debug level logging for development
LOG_LEVEL=DEBUG

# No Sentry in development
SENTRY_DSN=

# ==================== ANDROID APP SETTINGS ====================
TOKEN_EXPIRY_TIME=30
ANDROID_API_MINIMUM_VERSION=1.0.0
ANDROID_API_LATEST_VERSION=1.0.0
ANDROID_FORCE_UPDATE_VERSIONS=
ANDROID_MAINTENANCE_MODE=False
API_RATE_LIMIT_ENABLED=False

# ==================== API VERSION ====================
API_VERSION=1.0.0-dev

# ==================== DEVELOPMENT NOTES ====================
# 1. Use this file for local development only
# 2. Security is relaxed for easier development
# 3. Database defaults to SQLite for simplicity
# 4. Email backend prints to console
# 5. Rate limiting is disabled/relaxed
# 6. CORS allows localhost origins
# 7. Extended token lifetimes for development convenience
