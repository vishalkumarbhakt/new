# ========================================================================
# CUSTOMER-API ENVIRONMENT TEMPLATE
# ========================================================================
# Copy this file to .env.development or .env.production and fill in values
# SECURITY: Never commit credentials to version control!
# ========================================================================

# ==================== CORE APPLICATION SETTINGS ====================
DEBUG=False
DJANGO_SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1
SITE_PROTOCOL=https
SITE_DOMAIN=yourdomain.com
SITE_URL=https://yourdomain.com

# ==================== INTERNATIONALIZATION & LOCALIZATION ====================
LANGUAGE_CODE=en-us
TIME_ZONE=Asia/Kolkata
USE_I18N=True
USE_TZ=True

# ==================== DATABASE CONFIGURATION ====================
# PostgreSQL (recommended for production)
DB_ENGINE=django.db.backends.postgresql
DB_NAME=your-database-name
DB_USER=your-database-user
DB_PASSWORD=your-database-password
DB_HOST=your-database-host
DB_PORT=5432
DB_CONN_MAX_AGE=600
DB_CONNECT_TIMEOUT=10

# SQLite (for development only)
#DB_ENGINE=django.db.backends.sqlite3
#DB_NAME=db.sqlite3
#DB_CONN_MAX_AGE=0
#DB_CONNECT_TIMEOUT=5

# ==================== SECURITY SETTINGS ====================
# Authentication & Session Security
MAX_FAILED_LOGIN_ATTEMPTS=3
ACCOUNT_LOCKOUT_MINUTES=60
BRUTEFORCE_PROTECTION_ENABLED=True
IP_BASED_LOCKOUT_THRESHOLD=10
IP_LOCKOUT_DURATION=300

# Password Validation
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_SIMILARITY=0.7

# Session Security
SESSION_COOKIE_AGE=3600
SESSION_EXPIRE_AT_BROWSER_CLOSE=True
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_SAMESITE=Lax

# CSRF Protection
CSRF_COOKIE_SECURE=True
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Lax
CSRF_USE_SESSIONS=False

# Security Headers
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_BROWSER_XSS_FILTER=True

# Content Security Policy
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self'"
CSP_CONNECT_SRC="'self'"
CSP_FRAME_SRC="'self'"

# ==================== JWT TOKEN SETTINGS ====================
JWT_ACCESS_TOKEN_DAYS=1
JWT_REFRESH_TOKEN_DAYS=7
JWT_ROTATE_REFRESH_TOKENS=True
JWT_BLACKLIST_AFTER_ROTATION=True
JWT_UPDATE_LAST_LOGIN=True
JWT_ALGORITHM=HS256
JWT_ISSUER=Customer-API
JWT_LEEWAY=0
JWT_SLIDING_TOKEN_MINUTES=5
JWT_SLIDING_REFRESH_DAYS=1

# ==================== REST FRAMEWORK SETTINGS ====================
# Rate Limiting
REST_FRAMEWORK_ANON_THROTTLE_RATE=50/minute
REST_FRAMEWORK_USER_THROTTLE_RATE=200/minute
REST_FRAMEWORK_LOGIN_THROTTLE_RATE=3/minute
REST_FRAMEWORK_PAYMENT_THROTTLE_RATE=10/hour
REST_FRAMEWORK_REGISTRATION_THROTTLE_RATE=5/hour

# Pagination & Versioning
REST_FRAMEWORK_PAGE_SIZE=20
REST_FRAMEWORK_DEFAULT_VERSION=1.0
REST_FRAMEWORK_ALLOWED_VERSIONS=1.0
REST_FRAMEWORK_CACHE_TIMEOUT=300

# ==================== CART CONFIGURATION ====================
# Maximum number of carts per user (different stores)
MAX_CARTS_PER_USER=5
REST_FRAMEWORK_DEFAULT_VERSION=1.0
REST_FRAMEWORK_ALLOWED_VERSIONS=1.0
REST_FRAMEWORK_CACHE_TIMEOUT=300

# ==================== DEFENDER SETTINGS ====================
DEFENDER_LOGIN_FAILURE_LIMIT=5
DEFENDER_COOLOFF_TIME=300
DEFENDER_LOCK_OUT_BY_IP_AND_USERNAME=True
REDIS_URL=redis://localhost:6379/0

# ==================== CORS & CSRF SETTINGS ====================
CORS_ALLOWED_ORIGINS=https://yourdomain.com
CSRF_TRUSTED_ORIGINS=https://yourdomain.com

# ==================== CACHING & PERFORMANCE ====================
CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache
CACHE_LOCATION=api-cache
CACHE_TIMEOUT=300
CACHE_MAX_ENTRIES=1000
ANDROID_CACHE_TIMEOUT=300

# ==================== STATIC & MEDIA FILES ====================
# Static Files
STATIC_URL=/static/
STATIC_ROOT_PATH=staticfiles
STATICFILES_STORAGE=whitenoise.storage.CompressedManifestStaticFilesStorage

# Media Files
MEDIA_URL=/media/
MEDIA_ROOT_PATH=media

# ==================== CLOUD STORAGE (OPTIONAL) ====================
# Google Cloud Storage
USE_GCS=False
GCS_BUCKET_NAME=your-bucket-name
GCS_DEFAULT_FILE_STORAGE=storages.backends.gcloud.GoogleCloudStorage
GCS_STATICFILES_STORAGE=storages.backends.gcloud.GoogleCloudStorage
GCS_DEFAULT_ACL=publicRead
GCS_QUERYSTRING_AUTH=False
GCS_MEDIA_LOCATION=media
GCS_STATIC_LOCATION=static

# ==================== EMAIL CONFIGURATION ====================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
SERVER_EMAIL=server@yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com

# ==================== PAYMENT GATEWAY CONFIGURATION ====================
# Paytm Settings
PAYTM_TEST_MODE=True
PAYTM_MERCHANT_ID=your-merchant-id
PAYTM_MERCHANT_KEY=your-merchant-key
PAYTM_WEBSITE=WEBSTAGING
PAYTM_INDUSTRY_TYPE_ID=Retail
PAYTM_CHANNEL_ID=WEB
PAYTM_TOKEN_URL=https://securegw-stage.paytm.in/theia/api/v1/initiateTransaction
PAYTM_STATUS_URL=https://securegw-stage.paytm.in/merchant-status/getTxnStatus

# PhonePe Settings
PHONEPE_TEST_MODE=True
PHONEPE_MERCHANT_ID=your-merchant-id
PHONEPE_SALT_KEY=your-salt-key
PHONEPE_CLIENT_ID=your-client-id
PHONEPE_CLIENT_SECRET=your-client-secret
PHONEPE_CLIENT_VERSION=1.0.0
PHONEPE_PRODUCTION_URL=https://api.phonepe.com/apis/hermes
PHONEPE_STAGING_URL=https://api-preprod.phonepe.com/apis/hermes
PHONEPE_CALLBACK_URL_PREFIX=/api/auth/payments/phonepe/callback/
PHONEPE_REDIRECT_URL=https://yourdomain.com/api/auth/payments/phonepe/redirect/

# ==================== MONITORING & LOGGING ====================
# Logging
LOG_LEVEL=INFO

# Sentry Error Tracking (optional)
SENTRY_DSN=your-sentry-dsn
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_SEND_DEFAULT_PII=True

# Email Error Reporting
EMAIL_SUBJECT_PREFIX=[Customer API Error] 

# ==================== ANDROID APP SETTINGS ====================
TOKEN_EXPIRY_TIME=7
ANDROID_API_MINIMUM_VERSION=1.0.0
ANDROID_API_LATEST_VERSION=1.0.0
ANDROID_FORCE_UPDATE_VERSIONS=
ANDROID_MAINTENANCE_MODE=False
API_RATE_LIMIT_ENABLED=True

# ==================== API VERSION ====================
API_VERSION=1.0.0

# ==================== SETUP INSTRUCTIONS ====================
# 1. Copy this file to .env.development or .env.production
# 2. Replace all 'your-*' placeholders with actual values
# 3. Generate a secure SECRET_KEY for production
# 4. Configure your database connection
# 5. Set up email credentials
# 6. Configure payment gateway credentials
# 7. Set appropriate security settings for your environment
# 8. Never commit credentials to version control
JWT_ALGORITHM=HS256
JWT_ISSUER=Customer-API
JWT_LEEWAY=0
JWT_SLIDING_TOKEN_MINUTES=5
JWT_SLIDING_REFRESH_DAYS=1

# ==================== RATE LIMITING ====================
REST_FRAMEWORK_ANON_THROTTLE_RATE=30/minute
REST_FRAMEWORK_USER_THROTTLE_RATE=100/minute
REST_FRAMEWORK_LOGIN_THROTTLE_RATE=3/minute

DEFENDER_LOGIN_FAILURE_LIMIT=3
DEFENDER_COOLOFF_TIME=600
DEFENDER_LOCK_OUT_BY_IP_AND_USERNAME=True
REDIS_URL=redis://localhost:6379/0

# ==================== CORS & CSRF ====================
CORS_ALLOWED_ORIGINS=https://yourdomain.com
CSRF_TRUSTED_ORIGINS=https://yourdomain.com

# ==================== EMAIL CONFIGURATION ====================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@domain.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
SERVER_EMAIL=alerts@yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com

# ==================== PAYMENT GATEWAYS ====================
# Paytm
PAYTM_TEST_MODE=False
PAYTM_MERCHANT_ID=your-merchant-id
PAYTM_MERCHANT_KEY=your-merchant-key
PAYTM_WEBSITE=DEFAULT
PAYTM_INDUSTRY_TYPE_ID=Retail
PAYTM_CHANNEL_ID=WEB
PAYTM_TOKEN_URL=https://securegw.paytm.in/theia/api/v1/initiateTransaction
PAYTM_STATUS_URL=https://securegw.paytm.in/merchant-status/getTxnStatus

# PhonePe
PHONEPE_TEST_MODE=False
PHONEPE_MERCHANT_ID=your-phonepe-merchant-id
PHONEPE_SALT_KEY=your-phonepe-salt-key
PHONEPE_CLIENT_ID=your-phonepe-client-id
PHONEPE_CLIENT_SECRET=your-phonepe-client-secret
PHONEPE_CLIENT_VERSION=1.0.0
PHONEPE_PRODUCTION_URL=https://api.phonepe.com/apis/hermes
PHONEPE_STAGING_URL=https://api-preprod.phonepe.com/apis/hermes
PHONEPE_CALLBACK_URL_PREFIX=/api/auth/payments/phonepe/callback/
PHONEPE_REDIRECT_URL=https://yourdomain.com/api/auth/payments/phonepe/redirect/

# ==================== CACHING & PERFORMANCE ====================
CACHE_BACKEND=django.core.cache.backends.redis.RedisCache
CACHE_LOCATION=redis://localhost:6379/1
CACHE_TIMEOUT=300
ANDROID_CACHE_TIMEOUT=300

# ==================== CLOUD STORAGE ====================
USE_GCS=False
GCS_BUCKET_NAME=your-gcs-bucket

# ==================== MONITORING & LOGGING ====================
LOG_LEVEL=INFO
SENTRY_DSN=your-sentry-dsn

# ==================== ANDROID APP SETTINGS ====================
TOKEN_EXPIRY_TIME=7
ANDROID_API_MINIMUM_VERSION=1.0.0
ANDROID_API_LATEST_VERSION=1.0.0
ANDROID_FORCE_UPDATE_VERSIONS=
ANDROID_MAINTENANCE_MODE=False
API_RATE_LIMIT_ENABLED=True

# ==================== API VERSION ====================
API_VERSION=1.0.0